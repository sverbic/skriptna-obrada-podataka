
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Faktorska i klasterska analiza &#8212; Skriptna obrada i analiza podataka u Pajtonu</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/myfile.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Stablo odlučivanja" href="11%20Stablo%20odlu%C4%8Divanja.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Skriptna obrada i analiza podataka u Pajtonu</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   Skriptna obrada i analiza podataka u Pajtonu
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="0%20Uvod.html">
   Uvod
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="1%20Obrada%20tabelarnih%20podataka%20u%20Pajtonu.html">
   Obrada tabelarnih podataka u Pajtonu
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2%20Eksplorativna%20analiza%20podataka.html">
   Eksplorativna analiza podataka
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="3%20Priprema%20i%20%C4%8Di%C5%A1%C4%87enje%20podataka%20u%20Pajtonu.html">
   Priprema i čišćenje podataka u Pajtonu
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="4%20Deskriptivna%20analiza%20numeri%C4%8Dkih%20podataka.html">
   Deskriptivna analiza numeričkih podataka
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="5%20Vizuelizacija%20podataka%20na%20geografskoj%20mapi.html">
   Vizuelizacija podataka na geografskoj mapi
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="6%20Ma%C5%A1inska%20obrada%20tekstualnih%20podataka.html">
   Mašinska obrada tekstualnih podataka
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="7%20Koeficijent%20korelacije.html">
   Koeficijent korelacije
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="8%20Kvantifikacija%20sli%C4%8Dnosti%20i%20razlika%20slo%C5%BEenih%20objekata.html">
   Kvantifikacija sličnosti i razlika složenih objekata
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="9%20Fitovanje%20podataka.html">
   Fitovanje podataka
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="10%20Vi%C5%A1estruka%20linearna%20regresija.html">
   Višestruka linearna regresija
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="11%20Stablo%20odlu%C4%8Divanja.html">
   Stablo odlučivanja
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Faktorska i klasterska analiza
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/12 Faktorska i klasterska analiza.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/executablebooks/jupyter-book"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2F12 Faktorska i klasterska analiza.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/docs/12 Faktorska i klasterska analiza.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#podaci">
   Podaci
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#faktorska-analiza">
   Faktorska analiza
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#korelaciona-matrica">
     Korelaciona matrica
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tumacenje-faktora">
     Tumačenje faktora
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#klasterska-analiza">
   Klasterska analiza
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hijerarhijska-klasterizacija">
     Hijerarhijska klasterizacija
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#standardizacija">
       Standardizacija
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#klasteri-drzava">
     Klasteri država
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#karakteristike-klastera">
     Karakteristike klastera
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#smanjenje-dimenzionalnosti">
   Smanjenje dimenzionalnosti
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#zakljucak">
   Zaključak
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="faktorska-i-klasterska-analiza">
<h1>Faktorska i klasterska analiza<a class="headerlink" href="#faktorska-i-klasterska-analiza" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><p>U ovoj svesci ćemo koristiti dva tipa analize podataka: faktorsku i klastersku analizu daa bismo prikazali kako skup podataka sa mnoštvom promenljivih možemo da svedemo na nekoliko najvažnijih koje znamo kako da protumačimo i kako na osnovu vrednosti tih najvažnijih promenljivih možemo da klasifikujemo objekte. Primer je urađen za klasifikaciju država prema stepenu ekonomskog razvoja.</p>
</div></blockquote>
<p>Pravljenje rang-lista je jednostavno kada objekte treba poređati po veličini jednog parametra. Mi, međutim, često pravimo rang-liste za vrlo složene i apstraktne konstrukte kao što su konkurentnost privrede, kvalitet života, inovativnost itd. Da bi takve liste bile nešto više od subjektivnog rangiranja potrebno je da izaberemo najvažnije karakteristike, da procenimo koliko su važne, da li su možda međusobno previše zavisne i da smislimo odgovarajuću metriku.</p>
<p>Svetska banka klasifikuje države i ekonomije prema stepenu ekonomskog razvoja u <a class="reference external" href="https://blogs.worldbank.org/opendata/new-country-classifications-income-level-2019-2020">četiri grupe</a>: visoku, gornju-srednju, donju-srednju i nisku. Za to koristi samo jedan parametar: bruto nacionalni proizvod (BNP, eng. GNP - <em>Gross national product</em>) po glavi stanovnika. Nesumnjivo, prosečni proizvod stanovnika određene teritorije jeste važan pokazatelj njene razvijenosti. Ipak, postoje velike razlike među državama sa sličnim BNP po glavi stanovnika. Na taj način u istu grupu stavlja npr. Norvešku i Saudijsku Arabiju ili Kinu i Angolu. Jasno nam je da samo jedan parametar ne može da bude dobra osnova za dobru klasifikaciju prema ekonomskom razvoju. Takođe poređenje ekonomskog razvoja sa indikatorima iz drugih oblasti neće dati značajne rezultate jer su grupe previše grubo određene. Zamislite da poredimo postignuće na PISA testu za različite grupe zemalja gde su u istoj grupi npr. Finska i Oman. Varijansa bi bila prevelika da bi poređenje imalo smisla. Potrebno nam je još parametara.</p>
<p>Na sajtu Svetske banke postoji <a class="reference external" href="https://data.worldbank.org/indicator">kolekcija različitih indikatora</a> o stepenu razvoja svih država i ekonomija koji se prikupljaju iz različitih izvora i po različitoj metodologiji. Sistematizacija ovih podataka nije jednostavan posao jer ne postoje svi podaci za sve zemlje i nema istraživanja za svaku godinu. Zato je potrebno napraviti odabir indikatora i kriterijum po kom ih povezujemo.</p>
<section id="podaci">
<h2>Podaci<a class="headerlink" href="#podaci" title="Permalink to this headline">¶</a></h2>
<p>Za ovu vežbu iskoristiti fajl “countries data.csv” sa 29 indikatora razvoja koje je sakupio i priredio <a class="reference external" href="https://towardsdatascience.com/factor-analysis-cluster-analysis-on-countries-classification-1bdb3d8aa096">Zedric Cheung</a>. Ovi indikatori opisuju ne samo ekonomski već i društveni razvoj. U nedostatku podataka za aktuelnu godinu, uzeti su najnoviji dostupni podaci. Da bismo izbegli moguću pristrasnost zbog nesrazmernih vrednosti za određene indikatore, kao što su npr. BNP ili broj stanovnika, izabrani su samo relativni indikatori i indikatori rasta koji se uglavnom izražavaju u procentima.</p>
<div class="admonition-napomena admonition">
<p class="admonition-title">Napomena</p>
<p>Indikatori su odabrane promenljive za koje postoji saglasnost da predstavljaju relevantne i proverljive podatke o stanju ili o promeni stanja sistema. Dostupnost električne energije u ruralnim oblastima je, na primer, važan podatak o tome koliko su razvijene ruralne sredine ili kakav je njihov ekonomski potencijal. Indikatori se drugačije nazivaju pokazateljima.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/df_final.csv&#39;</span><span class="p">,</span><span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Afghanistan</th>
      <th>Algeria</th>
      <th>Angola</th>
      <th>Argentina</th>
      <th>Armenia</th>
      <th>Australia</th>
      <th>Austria</th>
      <th>Azerbaijan</th>
      <th>Bahamas, The</th>
      <th>Bahrain</th>
      <th>...</th>
      <th>Ukraine</th>
      <th>United Kingdom</th>
      <th>United States</th>
      <th>Uruguay</th>
      <th>Uzbekistan</th>
      <th>Venezuela, RB</th>
      <th>Vietnam</th>
      <th>Yemen, Rep.</th>
      <th>Zambia</th>
      <th>Zimbabwe</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Access to electricity, rural (% of rural population)</th>
      <td>64.573354</td>
      <td>99.764565</td>
      <td>3.815070</td>
      <td>98.136760</td>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>...</td>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>99.696927</td>
      <td>57.411509</td>
      <td>4.697572</td>
      <td>10.949313</td>
    </tr>
    <tr>
      <th>Access to electricity, urban (% of urban population)</th>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>73.674667</td>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>...</td>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>85.000000</td>
      <td>77.245483</td>
      <td>85.333015</td>
    </tr>
    <tr>
      <th>Agriculture, forestry, and fishing, value added (% of GDP)</th>
      <td>22.810663</td>
      <td>9.851693</td>
      <td>6.507493</td>
      <td>6.052918</td>
      <td>18.434763</td>
      <td>2.278906</td>
      <td>1.254721</td>
      <td>5.366264</td>
      <td>0.920219</td>
      <td>0.274789</td>
      <td>...</td>
      <td>8.786389</td>
      <td>0.672181</td>
      <td>1.333514</td>
      <td>7.616201</td>
      <td>29.496585</td>
      <td>4.902550</td>
      <td>17.963586</td>
      <td>7.867396</td>
      <td>8.226535</td>
      <td>7.144479</td>
    </tr>
    <tr>
      <th>Birth rate, crude (per 1,000 people)</th>
      <td>35.706000</td>
      <td>25.538000</td>
      <td>43.182000</td>
      <td>17.698000</td>
      <td>14.979000</td>
      <td>13.200000</td>
      <td>9.600000</td>
      <td>17.900000</td>
      <td>14.340000</td>
      <td>15.426000</td>
      <td>...</td>
      <td>10.800000</td>
      <td>12.000000</td>
      <td>12.500000</td>
      <td>14.192000</td>
      <td>23.300000</td>
      <td>19.394000</td>
      <td>17.315000</td>
      <td>32.735000</td>
      <td>38.645000</td>
      <td>34.978000</td>
    </tr>
    <tr>
      <th>CO2 emissions (metric tons per capita)</th>
      <td>0.253728</td>
      <td>3.735803</td>
      <td>1.664741</td>
      <td>4.588230</td>
      <td>1.898719</td>
      <td>15.391109</td>
      <td>6.892180</td>
      <td>3.920792</td>
      <td>6.341980</td>
      <td>23.477363</td>
      <td>...</td>
      <td>5.046563</td>
      <td>6.497341</td>
      <td>16.416576</td>
      <td>1.984241</td>
      <td>3.420723</td>
      <td>6.161192</td>
      <td>1.824532</td>
      <td>0.955251</td>
      <td>0.292412</td>
      <td>0.891739</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 153 columns</p>
</div></div></div>
</div>
<p>Tabela je, evidentno, napravljena tako da su indikatori prikazani po redovima, a države po kolonama. To nam nije zgodno za funkcije poput <code class="docutils literal notranslate"><span class="pre">corr()</span></code> koje koriste kolone kao argumente. Zato ćemo pomoću funkcije <code class="docutils literal notranslate"><span class="pre">T</span></code> transponovati <em>DataFrame</em>, tj. okrenuti tabelu tako da zamenimo redove i kolone.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Access to electricity, rural (% of rural population)</th>
      <th>Access to electricity, urban (% of urban population)</th>
      <th>Agriculture, forestry, and fishing, value added (% of GDP)</th>
      <th>Birth rate, crude (per 1,000 people)</th>
      <th>CO2 emissions (metric tons per capita)</th>
      <th>Current health expenditure (% of GDP)</th>
      <th>Death rate, crude (per 1,000 people)</th>
      <th>Diabetes prevalence (% of population ages 20 to 79)</th>
      <th>Employment in agriculture (% of total employment) (modeled ILO estimate)</th>
      <th>Employment in industry (% of total employment) (modeled ILO estimate)</th>
      <th>...</th>
      <th>Merchandise trade (% of GDP)</th>
      <th>Mobile cellular subscriptions (per 100 people)</th>
      <th>Mortality rate, infant (per 1,000 live births)</th>
      <th>PM2.5 air pollution, mean annual exposure (micrograms per cubic meter)</th>
      <th>People using at least basic drinking water services (% of population)</th>
      <th>Rural population (% of total population)</th>
      <th>Secure Internet servers (per 1 million people)</th>
      <th>Services, value added (% of GDP)</th>
      <th>Trade in services (% of GDP)</th>
      <th>Vulnerable employment, total (% of total employment) (modeled ILO estimate)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Afghanistan</th>
      <td>64.573354</td>
      <td>100.000000</td>
      <td>22.810663</td>
      <td>35.706</td>
      <td>0.253728</td>
      <td>8.561907</td>
      <td>7.141</td>
      <td>9.2</td>
      <td>42.839001</td>
      <td>18.162001</td>
      <td>...</td>
      <td>40.512797</td>
      <td>57.271068</td>
      <td>47.9</td>
      <td>56.910808</td>
      <td>56.169645</td>
      <td>76.052</td>
      <td>43.447835</td>
      <td>52.990865</td>
      <td>13.874704</td>
      <td>79.726002</td>
    </tr>
    <tr>
      <th>Algeria</th>
      <td>99.764565</td>
      <td>100.000000</td>
      <td>9.851693</td>
      <td>25.538</td>
      <td>3.735803</td>
      <td>5.267481</td>
      <td>4.709</td>
      <td>6.7</td>
      <td>9.856000</td>
      <td>30.733999</td>
      <td>...</td>
      <td>55.489295</td>
      <td>108.808940</td>
      <td>20.1</td>
      <td>38.884011</td>
      <td>93.055192</td>
      <td>31.764</td>
      <td>63.325702</td>
      <td>42.871985</td>
      <td>7.184300</td>
      <td>26.992999</td>
    </tr>
    <tr>
      <th>Angola</th>
      <td>3.815070</td>
      <td>73.674667</td>
      <td>6.507493</td>
      <td>43.182</td>
      <td>1.664741</td>
      <td>2.645608</td>
      <td>9.454</td>
      <td>4.5</td>
      <td>50.380001</td>
      <td>8.122000</td>
      <td>...</td>
      <td>60.221450</td>
      <td>49.793223</td>
      <td>51.6</td>
      <td>32.388505</td>
      <td>52.757347</td>
      <td>39.472</td>
      <td>10.799300</td>
      <td>46.813928</td>
      <td>18.281924</td>
      <td>65.995001</td>
    </tr>
    <tr>
      <th>Argentina</th>
      <td>98.136760</td>
      <td>100.000000</td>
      <td>6.052918</td>
      <td>17.698</td>
      <td>4.588230</td>
      <td>8.396563</td>
      <td>7.651</td>
      <td>5.9</td>
      <td>0.092000</td>
      <td>21.410999</td>
      <td>...</td>
      <td>25.486412</td>
      <td>143.566834</td>
      <td>8.8</td>
      <td>13.311834</td>
      <td>98.930412</td>
      <td>9.010</td>
      <td>1628.591391</td>
      <td>52.940543</td>
      <td>5.972423</td>
      <td>21.804999</td>
    </tr>
    <tr>
      <th>Armenia</th>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>18.434763</td>
      <td>14.979</td>
      <td>1.898719</td>
      <td>9.375878</td>
      <td>9.796</td>
      <td>6.1</td>
      <td>29.638000</td>
      <td>17.174999</td>
      <td>...</td>
      <td>50.992665</td>
      <td>118.421714</td>
      <td>11.0</td>
      <td>32.528118</td>
      <td>99.261631</td>
      <td>36.660</td>
      <td>271.324898</td>
      <td>47.413044</td>
      <td>28.889232</td>
      <td>38.667999</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 29 columns</p>
</div></div></div>
</div>
<p>Sada su države po vrstama, a indikatori po kolonama pa možemo da vidimo spisak svih odabranih indikatora.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">indicators</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
<span class="n">countries</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">indicators</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Access to electricity, rural (% of rural population)&#39;,
 &#39;Access to electricity, urban (% of urban population)&#39;,
 &#39;Agriculture, forestry, and fishing, value added (% of GDP)&#39;,
 &#39;Birth rate, crude (per 1,000 people)&#39;,
 &#39;CO2 emissions (metric tons per capita)&#39;,
 &#39;Current health expenditure (% of GDP)&#39;,
 &#39;Death rate, crude (per 1,000 people)&#39;,
 &#39;Diabetes prevalence (% of population ages 20 to 79)&#39;,
 &#39;Employment in agriculture (% of total employment) (modeled ILO estimate)&#39;,
 &#39;Employment in industry (% of total employment) (modeled ILO estimate)&#39;,
 &#39;Employment to population ratio, ages 15-24, total (%) (modeled ILO estimate)&#39;,
 &#39;GDP growth (annual %)&#39;,
 &#39;GDP per capita growth (annual %)&#39;,
 &#39;Immunization, DPT (% of children ages 12-23 months)&#39;,
 &#39;Individuals using the Internet (% of population)&#39;,
 &#39;Industry (including construction), value added (% of GDP)&#39;,
 &#39;Labor force participation rate for ages 15-24, female (%) (modeled ILO estimate)&#39;,
 &#39;Labor force participation rate for ages 15-24, male (%) (modeled ILO estimate)&#39;,
 &#39;Manufacturing, value added (% of GDP)&#39;,
 &#39;Merchandise trade (% of GDP)&#39;,
 &#39;Mobile cellular subscriptions (per 100 people)&#39;,
 &#39;Mortality rate, infant (per 1,000 live births)&#39;,
 &#39;PM2.5 air pollution, mean annual exposure (micrograms per cubic meter)&#39;,
 &#39;People using at least basic drinking water services (% of population)&#39;,
 &#39;Rural population (% of total population)&#39;,
 &#39;Secure Internet servers (per 1 million people)&#39;,
 &#39;Services, value added (% of GDP)&#39;,
 &#39;Trade in services (% of GDP)&#39;,
 &#39;Vulnerable employment, total (% of total employment) (modeled ILO estimate)&#39;]
</pre></div>
</div>
</div>
</div>
</section>
<section id="faktorska-analiza">
<h2>Faktorska analiza<a class="headerlink" href="#faktorska-analiza" title="Permalink to this headline">¶</a></h2>
<p>Osnovna namena faktorske analize jeste da opiše međusobne veze nekoliko promenljivih koristeći manji broj dimenzija koje ne možemo direktno da posmatramo i merimo. Ove dimenzije nazivamo faktorima.</p>
<div class="admonition-napomena admonition">
<p class="admonition-title">Napomena</p>
<p>Reč faktor smo ranije koristili da označimo uzrok neke pojave. Sada ga koristimo u nešto drugačijem značenju koje se odnosi dimenziju, odnosno promenljivu veličinu koja se tiče uzroka, a čiju vrednost ne možemo direkno da merimo. Mogli bismo da kažemo, na primer, da je nečija posvećenost poslu faktor njegovog poslovnog uspeha. Ako tu posvećenost predstavimo kao dimenziju po kojoj bismo mogli da poredimo one koji su manje ili više posvećeni, onda bi to bio faktor u onom drugom smislu reči. Posvećenost, međutim, ne možemo direktno da merimo. Najbolje što možemo je da je predstavimo kao kombinaciju različitih indikatora posvećenosti.</p>
</div>
<p>Tabela <strong>indicators</strong> ima 29 indikatora koji nisu svi nezavisni. Iza njih se, verovatno, krije svega nekoliko faktora koji najvećim delom utiču na vrednosti indikatora. Faktorska analiza može da nam pokaže koji su to faktori najvažniji i šta ih čini. Bez namere da ovde ulazimo u detalje faktorske analize, iskoristićemo ovaj način analize za redukciju broja indikatora kojima opisujemo ekonomiju jedne zemlje. Umesto mnoštva indikatora pokušaćemo da identifikujemo i opišemo samo najvažnije faktore. Ovaj postupak se zove smanjenje dimenzionalnosti (eng. <em>dimensionality reduction</em>).</p>
<p>Faktorska analiza podrazumeva linearnu vezu promenljivih i zajedničkih faktora. Posmatrane promenljive se modeliraju kao linearne kombinacije faktora i statističkih grešaka. Ova pretpostavka se koristi za objašnjenje varijanse posmatrane promenljive i uočavanje faktora. Ukoliko postoji jaka nelinearna veza između promenljivih, onda faktorska analiza neće biti adekvatna.</p>
<p>Faktorska analiza, takođe, pretpostavlja da promenljive mogu da budu međusobno zavisne. Na taj način promenljive mogu da se grupišu prema nekom zajedničkom svojstvu. U tom slučaju sve promenljive iz jedne grupe imaju međusobno visoke korelaciije dok su korelacije sa promenljivim iz drugih grupa niske. O svakoj grupi ovde možemo da razmišljamo kao o reprezentaciji istog osnovnog konstrukta ili faktora.</p>
<section id="korelaciona-matrica">
<h3>Korelaciona matrica<a class="headerlink" href="#korelaciona-matrica" title="Permalink to this headline">¶</a></h3>
<p>Pre nego što krenemo u dublju analizu, dobro je pogledati kako indikatori međusobno koreliraju. To može da nam pokaže korelaciona matrica.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">corrMatrix</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">corrMatrix</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:&gt;
</pre></div>
</div>
<img alt="_images/12 Faktorska i klasterska analiza_24_1.png" src="_images/12 Faktorska i klasterska analiza_24_1.png" />
</div>
</div>
<p>Odavde vidimo mnoge interesantne veze među promenljivim. Za neke od njih možemo da nađemo logično objašnjenje. Vidimo npr. pozitivnu korelaciju između dostupnosti električne energije i procenta ljudi koji koriste usluge osnovnog snabdevanja vodom ili negativnu korelaciju između udela ruralne populacije i udela populacije koja koristi internet. Ove dve veze nisu iznenađenje i za njih bismo mogli da nađemo prihvatljivo objašnjenje.</p>
<p>Za faktorsku analizu, međutim, nije neophodno da imamo objašnjenje uzročno-posledične veze između dve promenljive. Za analizu je važno da veza postoji, da može da se izmeri koliko je ona jaka i da na osnovu toga mogu da se grupišu. Iz zajedničkih svojstava tih grupa bi trebalo da prepoznamo faktore.</p>
<p>Za kod koji sledi koristićemo biblioteku <strong>factor_analyzer</strong> koju uglavnom nemamo u okruženju. Ako je već niste instalirali, možete to da uradite pomoću koda u sledećoj ćeliji. Naravno, uklonite # pre nego što pokrenete kod.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># pip install factor_analyzer</span>
</pre></div>
</div>
</div>
</div>
<p>Da bismo videli koji je faktor koliko značajan izračunaćemo njihove jedinstvene vrednosti (<em>eigenvalues</em>). Pomoću funkcije <code class="docutils literal notranslate"><span class="pre">FactorAnalyzer()</span></code> ćemo konstruisati objekat <strong>fa</strong> čije elemente dobijamo fitovanjem podataka datih u tabeli <strong>df</strong> pomoću funkcije <code class="docutils literal notranslate"><span class="pre">fit()</span></code>.</p>
<p>Funkcija <code class="docutils literal notranslate"><span class="pre">get_eingenvalues()</span></code> za objekat <strong>fa</strong> vraća dva niza: originalne jedinstvene vrednosti i jedinstvene vrednosti za zajednički faktor. Nas će u ovom primeru interesovati samo prvi vraćeni niz <strong>ev</strong>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">factor_analyzer</span> <span class="kn">import</span> <span class="n">FactorAnalyzer</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fa</span> <span class="o">=</span> <span class="n">FactorAnalyzer</span><span class="p">()</span>
<span class="n">fa</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="n">ev</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">fa</span><span class="o">.</span><span class="n">get_eigenvalues</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ev</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([10.63672587,  3.67107979,  2.44460081,  1.87141039,  1.57578863,
        1.36463179,  0.97581184,  0.80623313,  0.76408057,  0.6737155 ,
        0.58463794,  0.54760286,  0.46188775,  0.41524039,  0.40187364,
        0.29960097,  0.27164571,  0.2577007 ,  0.20448553,  0.15339563,
        0.13474008,  0.12614355,  0.09251826,  0.07345108,  0.05858169,
        0.04268668,  0.0354787 ,  0.02998401,  0.02426649])
</pre></div>
</div>
</div>
</div>
<p>Dobili smo 29 jedinstvenih vrednosti za faktore koliko ima i indikatora. Ove vrednosti su već sortirane po veličini jedinstvenih vrednosti i vidimo da nemaju svi faktori isti značaj. Prvi faktor je svakako najznačajniji. Da bismo videli koliko ima značajnih faktora primenićemo Kajzerov kriterijum (<em>Kaiser criterion</em>). To znači da uzimamo samo one faktore sa jedinstvenom vrednošću većom ili jednakom 1. Pošto sedmi faktor ima jedinstvenu vrednost skoro 1 (0.976), možemo da uključimo i taj sedmi. Kad nacrtamo “<em>scree plot</em>” vidi se koje su jedinstvene vrednosti za koji faktor i gde bi trebalo da se zaustavimo.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span><span class="n">ev</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span><span class="n">ev</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">colors</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Scree Plot&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Faktori&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Jedinstvene vrednosti&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/12 Faktorska i klasterska analiza_33_0.png" src="_images/12 Faktorska i klasterska analiza_33_0.png" />
</div>
</div>
<p>Uzeli smo prvih 7 faktora i sada nas interesuje za svaki indikator iz tabele <strong>df</strong> koje su mu komponenente kad ga razložimo po faktorima. Opet ćemo pomoću funkcije <code class="docutils literal notranslate"><span class="pre">fit()</span></code> uraditi faktorsku analizu, samo što nas sada ne interesuju jedinstvene vrednosti nego komponente koje dobijamo funkcijom <code class="docutils literal notranslate"><span class="pre">loadings_</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">n</span><span class="o">=</span><span class="mi">7</span>
<span class="n">fa</span><span class="o">=</span><span class="n">FactorAnalyzer</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="s1">&#39;varimax&#39;</span><span class="p">)</span>
<span class="n">fa</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">loads</span><span class="o">=</span><span class="n">fa</span><span class="o">.</span><span class="n">loadings_</span>
<span class="n">loads</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">loads</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Težine faktora za svaki indikator, odnosno komponente indikatora po faktorima, nisu ništa drugo do koeficijenti korelacije između pojedinačnih indikatora i faktora. Kvadrat tog broja pokazuje koliki deo varijanse indikatora objašnjava svaki pojedinačni faktor.</p>
<p>U tabeli <strong>loads</strong> vidimo težine faktora za svaku promenljivu. Dostupnost električne energije u ruralnim oblastima (<strong>Access to electricity, rural</strong>) je najvećim delom (0.923) posledica faktora 1, dok je npr. <strong>Employment to population ratio, ages 15-24, total (%)</strong> najvećim delom posledica faktora 2.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">loads</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Access to electricity, rural (% of rural population)</th>
      <td>0.923099</td>
      <td>-0.103622</td>
      <td>-0.016995</td>
      <td>-0.075640</td>
      <td>0.168628</td>
      <td>0.110812</td>
      <td>-0.114156</td>
    </tr>
    <tr>
      <th>Access to electricity, urban (% of urban population)</th>
      <td>0.798886</td>
      <td>-0.099014</td>
      <td>0.129567</td>
      <td>0.055812</td>
      <td>0.195405</td>
      <td>-0.003146</td>
      <td>-0.159214</td>
    </tr>
    <tr>
      <th>Agriculture, forestry, and fishing, value added (% of GDP)</th>
      <td>-0.795819</td>
      <td>0.174390</td>
      <td>0.166881</td>
      <td>-0.114388</td>
      <td>0.001961</td>
      <td>-0.045754</td>
      <td>-0.201374</td>
    </tr>
    <tr>
      <th>Birth rate, crude (per 1,000 people)</th>
      <td>-0.891906</td>
      <td>0.023063</td>
      <td>-0.000763</td>
      <td>0.136761</td>
      <td>0.094165</td>
      <td>-0.226882</td>
      <td>-0.017734</td>
    </tr>
    <tr>
      <th>CO2 emissions (metric tons per capita)</th>
      <td>0.452723</td>
      <td>0.071284</td>
      <td>-0.267657</td>
      <td>0.389566</td>
      <td>0.177487</td>
      <td>0.309021</td>
      <td>0.282098</td>
    </tr>
    <tr>
      <th>Current health expenditure (% of GDP)</th>
      <td>0.239314</td>
      <td>0.160355</td>
      <td>-0.190261</td>
      <td>-0.412832</td>
      <td>-0.432466</td>
      <td>0.050767</td>
      <td>0.082409</td>
    </tr>
    <tr>
      <th>Death rate, crude (per 1,000 people)</th>
      <td>-0.138158</td>
      <td>-0.174289</td>
      <td>-0.014640</td>
      <td>-0.178776</td>
      <td>-0.698574</td>
      <td>0.120223</td>
      <td>-0.105104</td>
    </tr>
    <tr>
      <th>Diabetes prevalence (% of population ages 20 to 79)</th>
      <td>0.269447</td>
      <td>-0.139315</td>
      <td>-0.008373</td>
      <td>-0.005002</td>
      <td>0.567908</td>
      <td>0.121560</td>
      <td>-0.067806</td>
    </tr>
    <tr>
      <th>Employment in agriculture (% of total employment) (modeled ILO estimate)</th>
      <td>-0.820959</td>
      <td>0.145347</td>
      <td>0.261797</td>
      <td>0.022575</td>
      <td>0.017465</td>
      <td>-0.267389</td>
      <td>-0.201548</td>
    </tr>
    <tr>
      <th>Employment in industry (% of total employment) (modeled ILO estimate)</th>
      <td>0.496466</td>
      <td>-0.167122</td>
      <td>-0.057186</td>
      <td>0.107814</td>
      <td>0.134582</td>
      <td>0.696404</td>
      <td>-0.216404</td>
    </tr>
    <tr>
      <th>Employment to population ratio, ages 15-24, total (%) (modeled ILO estimate)</th>
      <td>-0.136101</td>
      <td>0.990193</td>
      <td>0.099691</td>
      <td>0.002035</td>
      <td>-0.049473</td>
      <td>-0.024464</td>
      <td>0.032001</td>
    </tr>
    <tr>
      <th>GDP growth (annual %)</th>
      <td>-0.364711</td>
      <td>0.145675</td>
      <td>0.814372</td>
      <td>0.082477</td>
      <td>0.177832</td>
      <td>0.005390</td>
      <td>0.152028</td>
    </tr>
    <tr>
      <th>GDP per capita growth (annual %)</th>
      <td>-0.109307</td>
      <td>0.086794</td>
      <td>0.955060</td>
      <td>-0.074715</td>
      <td>-0.063727</td>
      <td>0.048961</td>
      <td>0.011568</td>
    </tr>
    <tr>
      <th>Immunization, DPT (% of children ages 12-23 months)</th>
      <td>0.361440</td>
      <td>0.080470</td>
      <td>0.014933</td>
      <td>-0.070564</td>
      <td>0.080156</td>
      <td>0.302146</td>
      <td>0.160958</td>
    </tr>
    <tr>
      <th>Individuals using the Internet (% of population)</th>
      <td>0.865611</td>
      <td>0.014172</td>
      <td>-0.167951</td>
      <td>0.100894</td>
      <td>-0.097817</td>
      <td>0.136936</td>
      <td>0.248110</td>
    </tr>
    <tr>
      <th>Industry (including construction), value added (% of GDP)</th>
      <td>0.140818</td>
      <td>-0.118831</td>
      <td>-0.093818</td>
      <td>0.927830</td>
      <td>0.222237</td>
      <td>0.130492</td>
      <td>-0.178376</td>
    </tr>
    <tr>
      <th>Labor force participation rate for ages 15-24, female (%) (modeled ILO estimate)</th>
      <td>-0.095069</td>
      <td>0.857298</td>
      <td>0.092028</td>
      <td>-0.056585</td>
      <td>-0.312542</td>
      <td>-0.145172</td>
      <td>0.124682</td>
    </tr>
    <tr>
      <th>Labor force participation rate for ages 15-24, male (%) (modeled ILO estimate)</th>
      <td>-0.064793</td>
      <td>0.836397</td>
      <td>0.029905</td>
      <td>-0.111129</td>
      <td>0.223635</td>
      <td>-0.013499</td>
      <td>-0.082375</td>
    </tr>
    <tr>
      <th>Manufacturing, value added (% of GDP)</th>
      <td>0.294312</td>
      <td>-0.077294</td>
      <td>0.046635</td>
      <td>0.213694</td>
      <td>-0.014592</td>
      <td>0.314570</td>
      <td>-0.258062</td>
    </tr>
    <tr>
      <th>Merchandise trade (% of GDP)</th>
      <td>0.231526</td>
      <td>-0.099376</td>
      <td>0.148537</td>
      <td>0.165111</td>
      <td>-0.200153</td>
      <td>0.400472</td>
      <td>0.174620</td>
    </tr>
    <tr>
      <th>Mobile cellular subscriptions (per 100 people)</th>
      <td>0.579789</td>
      <td>-0.108025</td>
      <td>-0.165356</td>
      <td>0.183806</td>
      <td>0.011003</td>
      <td>0.226828</td>
      <td>0.138128</td>
    </tr>
    <tr>
      <th>Mortality rate, infant (per 1,000 live births)</th>
      <td>-0.892235</td>
      <td>-0.058089</td>
      <td>0.059531</td>
      <td>0.085106</td>
      <td>-0.049363</td>
      <td>-0.156413</td>
      <td>-0.052084</td>
    </tr>
    <tr>
      <th>PM2.5 air pollution, mean annual exposure (micrograms per cubic meter)</th>
      <td>-0.445168</td>
      <td>-0.090941</td>
      <td>0.017263</td>
      <td>0.256944</td>
      <td>0.437349</td>
      <td>0.110280</td>
      <td>-0.079617</td>
    </tr>
    <tr>
      <th>People using at least basic drinking water services (% of population)</th>
      <td>0.890495</td>
      <td>-0.082835</td>
      <td>-0.114866</td>
      <td>-0.078468</td>
      <td>0.096424</td>
      <td>0.161553</td>
      <td>0.030593</td>
    </tr>
    <tr>
      <th>Rural population (% of total population)</th>
      <td>-0.679435</td>
      <td>0.010729</td>
      <td>0.288805</td>
      <td>-0.181540</td>
      <td>0.051659</td>
      <td>-0.004876</td>
      <td>-0.323126</td>
    </tr>
    <tr>
      <th>Secure Internet servers (per 1 million people)</th>
      <td>0.440599</td>
      <td>0.266991</td>
      <td>-0.008283</td>
      <td>-0.075886</td>
      <td>-0.342463</td>
      <td>0.095612</td>
      <td>0.420881</td>
    </tr>
    <tr>
      <th>Services, value added (% of GDP)</th>
      <td>0.521198</td>
      <td>0.002854</td>
      <td>-0.080144</td>
      <td>-0.562971</td>
      <td>-0.102619</td>
      <td>-0.104094</td>
      <td>0.366128</td>
    </tr>
    <tr>
      <th>Trade in services (% of GDP)</th>
      <td>0.197209</td>
      <td>-0.012793</td>
      <td>0.128330</td>
      <td>-0.192565</td>
      <td>0.011466</td>
      <td>0.002661</td>
      <td>0.619025</td>
    </tr>
    <tr>
      <th>Vulnerable employment, total (% of total employment) (modeled ILO estimate)</th>
      <td>-0.822610</td>
      <td>0.118219</td>
      <td>0.259661</td>
      <td>0.036828</td>
      <td>0.013439</td>
      <td>-0.327749</td>
      <td>-0.201587</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Komponente pojedinačnih promenljivih možemo da prikažemo grafički pomoću funkcije <code class="docutils literal notranslate"><span class="pre">heatmap()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">12</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">loads</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;coolwarm&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:&gt;
</pre></div>
</div>
<img alt="_images/12 Faktorska i klasterska analiza_39_1.png" src="_images/12 Faktorska i klasterska analiza_39_1.png" />
</div>
</div>
<p>Koliko dobro pomoću prvih sedam faktora možemo da opišemo indikatore, to kvantifikujemo pomoću udela varijanse za koju su odgovorni faktori. Za svaki faktor posebno možemo da vidimo koliki ima udeo ukupne varijanse. Kumulativni udeo nam govori koliko varijanse opisuju zajedno taj i svi prethodni faktori. Te podatke možemo da dobijemo pomoću funkcije <code class="docutils literal notranslate"><span class="pre">get_factor_variance()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fa_var</span> <span class="o">=</span> <span class="n">fa</span><span class="o">.</span><span class="n">get_factor_variance</span><span class="p">()</span>
<span class="n">fa_var</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">fa_var</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;SS loadings&#39;</span><span class="p">,</span> <span class="s1">&#39;Proportion Var&#39;</span><span class="p">,</span> <span class="s1">&#39;Cumulative Var&#39;</span><span class="p">])</span>
<span class="n">fa_var</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>SS loadings</th>
      <td>9.176603</td>
      <td>2.777247</td>
      <td>2.099143</td>
      <td>1.891124</td>
      <td>1.748366</td>
      <td>1.401925</td>
      <td>1.400185</td>
    </tr>
    <tr>
      <th>Proportion Var</th>
      <td>0.316435</td>
      <td>0.095767</td>
      <td>0.072384</td>
      <td>0.065211</td>
      <td>0.060288</td>
      <td>0.048342</td>
      <td>0.048282</td>
    </tr>
    <tr>
      <th>Cumulative Var</th>
      <td>0.316435</td>
      <td>0.412202</td>
      <td>0.484586</td>
      <td>0.549797</td>
      <td>0.610086</td>
      <td>0.658428</td>
      <td>0.706710</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Vidimo da je izbor prvih sedam faktora objasnio 71% ukupne varijanse svih 29 indikatora.</p>
</section>
<section id="tumacenje-faktora">
<h3>Tumačenje faktora<a class="headerlink" href="#tumacenje-faktora" title="Permalink to this headline">¶</a></h3>
<p>Iako su faktori apstraktni i ne možemo direktno da ih merimo, možemo da ih opišemo na osnovu veze sa pojedinačnim indikatorima. Npr. faktor 0 ima visoku korelaciju sa dostupnošću električne energije, interneta i pijaće vode. Možemo reći da ovaj faktor generalno opisuje dostupnost osnovnih komunalnih usluga. Slično možemo da prepoznamo i za ostale faktore.</p>
<p>Okvirno, sedam faktora ekonomskog razvoja na osnovu izabranih indikatora grubo možemo da opišemo kao:</p>
<ol class="simple">
<li><p>faktor — Dostupnost osnovnih komunalnih usluga</p></li>
<li><p>faktor — Zapošljivost mladih</p></li>
<li><p>faktor — Ukupni ekonomski rast</p></li>
<li><p>faktor — Industrijski razvoj</p></li>
<li><p>faktor — Zdravstvena situacija</p></li>
<li><p>faktor — Mogućnosti proizvodnje i trgovine proizvedenom robom</p></li>
<li><p>faktor — Razvoj stručnih usluga</p></li>
</ol>
<p>Imajte u vidu da tumačenja podataka ne moraju da budu jedinstvena, da su veoma zavisna od konteksta i da su ponekad subjektivna. Zato je važno da naglasimo na osnovu čega dajemo takvo tumačenje.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">faktori</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Dostupnost osnovnih</span><span class="se">\n</span><span class="s1"> komunalnih usluga&#39;</span><span class="p">,</span>
         <span class="s1">&#39;Zapošljivost mladih&#39;</span><span class="p">,</span>
         <span class="s1">&#39;Ukupni ekonomski rast&#39;</span><span class="p">,</span>
         <span class="s1">&#39;Industrijski razvoj&#39;</span><span class="p">,</span>
         <span class="s1">&#39;Zdravstvena situacija&#39;</span><span class="p">,</span>
         <span class="s1">&#39;Mogućnosti proizvodnje i</span><span class="se">\n</span><span class="s1"> trgovine proizvedenom robom&#39;</span><span class="p">,</span>
         <span class="s1">&#39;Razvoj stručnih usluga&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="klasterska-analiza">
<h2>Klasterska analiza<a class="headerlink" href="#klasterska-analiza" title="Permalink to this headline">¶</a></h2>
<p>Vratimo se sada na svih 29 indikatora. Njih možemo predstaviti kao 29 dimenzija nekog hiper-prostora u kom je definisano rastojanje između bilo koje dve tačke. Ako krenemo <em>bottom-up</em> i tražimo države koje su međusobno nabliže, počeće da se stvaraju klasteri država sa sličnim karakteristikama.</p>
<section id="hijerarhijska-klasterizacija">
<h3>Hijerarhijska klasterizacija<a class="headerlink" href="#hijerarhijska-klasterizacija" title="Permalink to this headline">¶</a></h3>
<p>Hijerarhijska klasterizacija je tip učenja bez nadzora koji grupiše slične tačke ili objekte u grupe koje nazivamo klasterima. Postoje dva podtipa hijerarhijske klasterizacije:</p>
<ul class="simple">
<li><p>Aglomerativna hijerarhijska klasterizacija i</p></li>
<li><p>Hijerarhijska klasterizacija razdvajanjem.</p></li>
</ul>
<p>Mi ćemo ovde prikazati primer korišćenja samo prvog od ova dva podtipa. Aglomerativna hijerarhijska klasterizacija ima <em>bottom-up</em> pristup gde su svi objekti na početku zasebni klasteri koji se sukcesivno sparuju čineći sve veće klastere.</p>
<section id="standardizacija">
<h4>Standardizacija<a class="headerlink" href="#standardizacija" title="Permalink to this headline">¶</a></h4>
<p>Za uspešno uočavanje klastera potrebno je sve indikatore, bez obzira na raspon vrednosti i jedinice u kojima su dati, dovesti u ravnopravan položaj tako što im se vrednosti standardizuju. To činimo tako što originalne vrednosti indikatora zamenjujemo razlikom originalne i srednje vrednosti za taj indikator podeljenu standardnom devijacijom indikatora. To znači da su tipične standardizovane vrednosti uglavnom između -1 i +1.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_std</span><span class="o">=</span><span class="p">(</span><span class="n">df</span><span class="o">-</span><span class="n">df</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span><span class="o">/</span><span class="n">df</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Sa ovako transformisanom tabelom <strong>df</strong> možemo da utvrdimo rastojanja između tačaka (država) koristeći podrazumevanu euklidsku distancu i Ward metod povezivanja klastera. Njihova klasterizacija može da se prikaže dijagramom koji nazivamo dendrogram zbog vizuelne sličnosti sa korenom drveta. Dendrogram prikazuje kako se klasteri spajaju ili razdvajaju na određenim rastojanjima. Skup tačaka može da ima različit broj klastera u zavisnosti od parametra kritičnog rastojanja koji je prikazan na y-osi. U krajnjoj liniji, izbor broja klastera je proizvoljan i vrlo često subjektivan.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">scipy.cluster.hierarchy</span> <span class="k">as</span> <span class="nn">sch</span>
<span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">AgglomerativeClustering</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">dendrogram</span> <span class="o">=</span> <span class="n">sch</span><span class="o">.</span><span class="n">dendrogram</span><span class="p">(</span><span class="n">sch</span><span class="o">.</span><span class="n">linkage</span><span class="p">(</span><span class="n">df_std</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;ward&#39;</span><span class="p">),</span><span class="n">leaf_rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> 
                            <span class="n">leaf_font_size</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">color_threshold</span><span class="o">=</span><span class="mf">12.5</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mf">12.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/12 Faktorska i klasterska analiza_55_0.png" src="_images/12 Faktorska i klasterska analiza_55_0.png" />
</div>
</div>
<p>Funkcija <code class="docutils literal notranslate"><span class="pre">dendrogram()</span></code> ne vraća podatke o klasterima jer još nismo zadali kriterijum koliki su ili koliko ih ima. Za grupisanje država u klastere nam je potrebna funkcija <code class="docutils literal notranslate"><span class="pre">AgglomerativeClustering()</span></code> u kojoj ćemo zadati da hoćemo tačno 12 klastera. To odgovara visini crne isprekidane linije na gornjem grafikonu. Svaki presek ove linije sa dendrogramom definiše po jedan klaster ispod linije. Funkcija <code class="docutils literal notranslate"><span class="pre">fit_predict()</span></code> vraća niz celih brojeva koji predstavljaju procenu pripadnosti tačaka različitim klasterima.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># kreiranje objekta</span>
<span class="n">hc</span> <span class="o">=</span> <span class="n">AgglomerativeClustering</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">affinity</span> <span class="o">=</span> <span class="s1">&#39;euclidean&#39;</span><span class="p">,</span> <span class="n">linkage</span> <span class="o">=</span> <span class="s1">&#39;ward&#39;</span><span class="p">)</span>
<span class="c1"># fitovanje modela</span>
<span class="n">y_hc</span> <span class="o">=</span> <span class="n">hc</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">df_std</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Sada tabelama <strong>df</strong> i njenoj standardizovanoj verziji (<strong>df_std</strong>) možemo da dodamo kolonu u kojoj će pisati kom klasteru pripada koja država. Nakon toga sortiramo tabele prema oznaci klastera tako da su nam na početku klasteri sa oznakom 0, pa onda 1 itd.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;cluster&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">y_hc</span>
<span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;cluster&quot;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df_std</span><span class="p">[</span><span class="s1">&#39;cluster&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">y_hc</span>
<span class="n">df_std</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;cluster&quot;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="klasteri-drzava">
<h3>Klasteri država<a class="headerlink" href="#klasteri-drzava" title="Permalink to this headline">¶</a></h3>
<p>Sada pošto smo državama pridružili oznake klastera kojima pripadaju bilo bi dobro da vidimo koja je država u kom klasteru. Za tu namenu napravićemo privremeno tabelu <strong>a</strong> koja sadrži samo imena država i oznake klastera i od nje napraviti tabelu <strong>grupe</strong> gde su imena država odgovarajućeg klastera navedena po kolonama.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;country&#39;</span><span class="p">:</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;cluster&#39;</span><span class="p">:</span><span class="n">df</span><span class="o">.</span><span class="n">cluster</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mig</span><span class="o">=</span><span class="nb">max</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">cluster</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
<span class="n">grupe</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">columns</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">cluster</span><span class="o">.</span><span class="n">unique</span><span class="p">(),</span><span class="n">index</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="n">mig</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">):</span>
    <span class="n">_</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">country</span><span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">cluster</span><span class="o">==</span><span class="n">i</span><span class="p">]</span>
    <span class="n">grupe</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="nb">len</span><span class="p">(</span><span class="n">_</span><span class="p">),</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">country</span><span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">cluster</span><span class="o">==</span><span class="n">i</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">grupe</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
      <th>9</th>
      <th>10</th>
      <th>11</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Japan</td>
      <td>Chile</td>
      <td>Georgia</td>
      <td>Nigeria</td>
      <td>Togo</td>
      <td>Oman</td>
      <td>Congo, Rep.</td>
      <td>Luxembourg</td>
      <td>Suriname</td>
      <td>Myanmar</td>
      <td>Lesotho</td>
      <td>Dominican Republic</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Singapore</td>
      <td>Panama</td>
      <td>North Macedonia</td>
      <td>Timor-Leste</td>
      <td>Tanzania</td>
      <td>Brunei Darussalam</td>
      <td>Egypt, Arab Rep.</td>
      <td>Maldives</td>
      <td>Sri Lanka</td>
      <td>Vietnam</td>
      <td>Sao Tome and Principe</td>
      <td>Colombia</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Denmark</td>
      <td>El Salvador</td>
      <td>Greece</td>
      <td>Mauritania</td>
      <td>Guinea-Bissau</td>
      <td>Qatar</td>
      <td>Uzbekistan</td>
      <td>Malta</td>
      <td>South Africa</td>
      <td>Lao PDR</td>
      <td>Namibia</td>
      <td>Ecuador</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Sweden</td>
      <td>Samoa</td>
      <td>Moldova</td>
      <td>Sudan</td>
      <td>Uganda</td>
      <td>Saudi Arabia</td>
      <td>Iraq</td>
      <td>Ireland</td>
      <td>Tunisia</td>
      <td>Cambodia</td>
      <td>Djibouti</td>
      <td>Philippines</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Switzerland</td>
      <td>Jamaica</td>
      <td>France</td>
      <td>Senegal</td>
      <td>Mali</td>
      <td>Trinidad and Tobago</td>
      <td>Mongolia</td>
      <td></td>
      <td>China</td>
      <td>Nepal</td>
      <td>Eswatini</td>
      <td>Indonesia</td>
    </tr>
    <tr>
      <th>5</th>
      <td>United Kingdom</td>
      <td>Costa Rica</td>
      <td>Hungary</td>
      <td>Zambia</td>
      <td>Niger</td>
      <td>Kuwait</td>
      <td>Gabon</td>
      <td></td>
      <td>Algeria</td>
      <td></td>
      <td>Botswana</td>
      <td>Peru</td>
    </tr>
    <tr>
      <th>6</th>
      <td>United States</td>
      <td>Israel</td>
      <td>Lithuania</td>
      <td>Kenya</td>
      <td>Zimbabwe</td>
      <td>Bahrain</td>
      <td>Azerbaijan</td>
      <td></td>
      <td>Thailand</td>
      <td></td>
      <td></td>
      <td>Paraguay</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Norway</td>
      <td>Lebanon</td>
      <td>Latvia</td>
      <td>Yemen, Rep.</td>
      <td>Liberia</td>
      <td></td>
      <td>Bangladesh</td>
      <td></td>
      <td>Kazakhstan</td>
      <td></td>
      <td></td>
      <td>Bolivia</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Finland</td>
      <td>Cyprus</td>
      <td>Italy</td>
      <td>Pakistan</td>
      <td>Ethiopia</td>
      <td></td>
      <td>Bhutan</td>
      <td></td>
      <td>Korea, Rep.</td>
      <td></td>
      <td></td>
      <td>Honduras</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Austria</td>
      <td>Cabo Verde</td>
      <td>Armenia</td>
      <td>Papua New Guinea</td>
      <td>Burundi</td>
      <td></td>
      <td>Tajikistan</td>
      <td></td>
      <td>Kyrgyz Republic</td>
      <td></td>
      <td></td>
      <td>Turkey</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Australia</td>
      <td>St. Lucia</td>
      <td>Spain</td>
      <td>Afghanistan</td>
      <td>Sierra Leone</td>
      <td></td>
      <td>India</td>
      <td></td>
      <td>Jordan</td>
      <td></td>
      <td></td>
      <td>Fiji</td>
    </tr>
    <tr>
      <th>11</th>
      <td>New Zealand</td>
      <td>Bahamas, The</td>
      <td>Slovenia</td>
      <td>Gambia, The</td>
      <td>Rwanda</td>
      <td></td>
      <td></td>
      <td></td>
      <td>Malaysia</td>
      <td></td>
      <td></td>
      <td>Mexico</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Netherlands</td>
      <td>St. Vincent and the Grenadines</td>
      <td>Czech Republic</td>
      <td>Cote d'Ivoire</td>
      <td>Malawi</td>
      <td></td>
      <td></td>
      <td></td>
      <td>Mauritius</td>
      <td></td>
      <td></td>
      <td>Guyana</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Iceland</td>
      <td>Brazil</td>
      <td>Slovak Republic</td>
      <td>Angola</td>
      <td>Mozambique</td>
      <td></td>
      <td></td>
      <td></td>
      <td>Morocco</td>
      <td></td>
      <td></td>
      <td>Guatemala</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Germany</td>
      <td>Ukraine</td>
      <td>Serbia</td>
      <td>Cameroon</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>Nicaragua</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Canada</td>
      <td>Venezuela, RB</td>
      <td>Croatia</td>
      <td>Guinea</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>Belize</td>
    </tr>
    <tr>
      <th>16</th>
      <td></td>
      <td>Uruguay</td>
      <td>Belgium</td>
      <td>Benin</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>17</th>
      <td></td>
      <td>Argentina</td>
      <td>Bosnia and Herzegovina</td>
      <td>Ghana</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>18</th>
      <td></td>
      <td></td>
      <td>Belarus</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>19</th>
      <td></td>
      <td></td>
      <td>Romania</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>20</th>
      <td></td>
      <td></td>
      <td>Portugal</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>21</th>
      <td></td>
      <td></td>
      <td>Estonia</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>22</th>
      <td></td>
      <td></td>
      <td>Poland</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>23</th>
      <td></td>
      <td></td>
      <td>Russian Federation</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Vidimo da su u prvom klasteru (sa oznakom 0) sve vrlo razvijene države poput Japana, Norveške, SAD itd. U drugom su mahom zemlje latinske Amerike. U trećem uglavnom srednja i istočna Evropa, itd. Izgleda da klasterizacija ima smisla jer svaki klaster možemo da opišemo koristeći geografske i ekonomske atribute. Ovde se nećemo baviti opisom svakog pojedinačno klastera. To može da ostane za samostalni rad.</p>
</section>
<section id="karakteristike-klastera">
<h3>Karakteristike klastera<a class="headerlink" href="#karakteristike-klastera" title="Permalink to this headline">¶</a></h3>
<p>Nakon grupisanja 159 zemalja u 12 klastera, trebalo bi relativno lako da prepoznamo karakteristike svakog klastera i utvrdimo zašto su države baš na taj način grupisane. Za potrebe prikazivanja klastera i njihovih karakteristika, grupisaćemo vrednosti indikatora po faktorima računajući njihovu srednju vrednost. To će nam pomoći da vidimo po čemu se to faktori razlikuju. Grupisane vrednosti ćemo sačuvati u tabelama <strong>df_cluster</strong> i <strong>df_cluster_std</strong>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_cluster</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;cluster&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">df_cluster_std</span> <span class="o">=</span> <span class="n">df_std</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;cluster&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Ovako dobijene karakteristike indikatora možemo grafički da prikažemo kao <em>heatmap</em>. Odavde možemo da vidimo koji indikatori najviše određuju pojedinačne klastere. Obratite pažnju da za ovaj grafički prikaz koristimo standardizovane vrednosti kako indikator sa najvećim rasponom vrednosti (<em>Secure Internet servers (per 1 million people)</em>) ne bi obesmislio prikaz za druge indikatore. (Probajte kako bi izgledao sledeći grafikon kada bismo koristili <strong>df_cluster</strong> umesto <strong>df_cluster_std</strong>.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">df_cluster_std</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;coolwarm&quot;</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span> <span class="s1">&#39;.2f&#39;</span><span class="p">,</span> <span class="n">linewidths</span><span class="o">=</span><span class="mf">.2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:ylabel=&#39;cluster&#39;&gt;
</pre></div>
</div>
<img alt="_images/12 Faktorska i klasterska analiza_71_1.png" src="_images/12 Faktorska i klasterska analiza_71_1.png" />
</div>
</div>
<p>Ako nas interesuju konkretne vrednosti, onda nećemo koristiti standardizovanu tabelu <strong>df_cluster_std</strong> već <strong>df_cluster</strong>. To možemo da prikažemo i kao <em>DataFrame</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_cluster</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Access to electricity, rural (% of rural population)</th>
      <th>Access to electricity, urban (% of urban population)</th>
      <th>Agriculture, forestry, and fishing, value added (% of GDP)</th>
      <th>Birth rate, crude (per 1,000 people)</th>
      <th>CO2 emissions (metric tons per capita)</th>
      <th>Current health expenditure (% of GDP)</th>
      <th>Death rate, crude (per 1,000 people)</th>
      <th>Diabetes prevalence (% of population ages 20 to 79)</th>
      <th>Employment in agriculture (% of total employment) (modeled ILO estimate)</th>
      <th>Employment in industry (% of total employment) (modeled ILO estimate)</th>
      <th>...</th>
      <th>Merchandise trade (% of GDP)</th>
      <th>Mobile cellular subscriptions (per 100 people)</th>
      <th>Mortality rate, infant (per 1,000 live births)</th>
      <th>PM2.5 air pollution, mean annual exposure (micrograms per cubic meter)</th>
      <th>People using at least basic drinking water services (% of population)</th>
      <th>Rural population (% of total population)</th>
      <th>Secure Internet servers (per 1 million people)</th>
      <th>Services, value added (% of GDP)</th>
      <th>Trade in services (% of GDP)</th>
      <th>Vulnerable employment, total (% of total employment) (modeled ILO estimate)</th>
    </tr>
    <tr>
      <th>cluster</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>1.957978</td>
      <td>10.973750</td>
      <td>9.102191</td>
      <td>9.719881</td>
      <td>8.169812</td>
      <td>6.443750</td>
      <td>2.462875</td>
      <td>19.941562</td>
      <td>...</td>
      <td>70.288784</td>
      <td>123.136018</td>
      <td>3.075000</td>
      <td>9.497340</td>
      <td>99.836597</td>
      <td>16.782937</td>
      <td>29762.391506</td>
      <td>66.126354</td>
      <td>26.862459</td>
      <td>8.523500</td>
    </tr>
    <tr>
      <th>1</th>
      <td>96.693553</td>
      <td>99.231856</td>
      <td>5.005403</td>
      <td>16.687000</td>
      <td>3.462393</td>
      <td>6.725751</td>
      <td>6.892000</td>
      <td>8.650000</td>
      <td>10.893722</td>
      <td>19.643944</td>
      <td>...</td>
      <td>49.372597</td>
      <td>119.473816</td>
      <td>10.422222</td>
      <td>18.680155</td>
      <td>95.772643</td>
      <td>30.446389</td>
      <td>2566.661857</td>
      <td>64.453981</td>
      <td>31.562587</td>
      <td>24.850889</td>
    </tr>
    <tr>
      <th>2</th>
      <td>99.999206</td>
      <td>99.986453</td>
      <td>4.892091</td>
      <td>10.572333</td>
      <td>5.613449</td>
      <td>7.764508</td>
      <td>11.117792</td>
      <td>6.229167</td>
      <td>11.163833</td>
      <td>26.302625</td>
      <td>...</td>
      <td>92.931143</td>
      <td>119.461274</td>
      <td>4.741667</td>
      <td>17.275754</td>
      <td>97.660824</td>
      <td>35.304625</td>
      <td>9471.314467</td>
      <td>58.755376</td>
      <td>23.131088</td>
      <td>16.188292</td>
    </tr>
    <tr>
      <th>3</th>
      <td>32.331356</td>
      <td>86.676238</td>
      <td>18.806036</td>
      <td>35.314056</td>
      <td>0.576165</td>
      <td>4.094049</td>
      <td>8.278000</td>
      <td>6.783333</td>
      <td>42.304555</td>
      <td>13.429444</td>
      <td>...</td>
      <td>47.984528</td>
      <td>83.927835</td>
      <td>47.683333</td>
      <td>40.740643</td>
      <td>64.351459</td>
      <td>60.474333</td>
      <td>38.753999</td>
      <td>48.585221</td>
      <td>13.120722</td>
      <td>68.310667</td>
    </tr>
    <tr>
      <th>4</th>
      <td>8.216578</td>
      <td>68.304655</td>
      <td>32.324122</td>
      <td>38.107357</td>
      <td>0.225257</td>
      <td>7.268319</td>
      <td>9.022500</td>
      <td>3.335714</td>
      <td>62.910928</td>
      <td>8.148071</td>
      <td>...</td>
      <td>49.207919</td>
      <td>69.803287</td>
      <td>46.078571</td>
      <td>36.104928</td>
      <td>56.470351</td>
      <td>71.835500</td>
      <td>9.616838</td>
      <td>42.286690</td>
      <td>16.787911</td>
      <td>79.158929</td>
    </tr>
    <tr>
      <th>5</th>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>0.799286</td>
      <td>16.357857</td>
      <td>25.948789</td>
      <td>2.948654</td>
      <td>3.420000</td>
      <td>13.371429</td>
      <td>2.213143</td>
      <td>30.581143</td>
      <td>...</td>
      <td>86.218204</td>
      <td>159.727646</td>
      <td>8.657143</td>
      <td>54.545859</td>
      <td>98.032095</td>
      <td>17.867429</td>
      <td>494.961791</td>
      <td>41.421165</td>
      <td>21.302681</td>
      <td>4.590286</td>
    </tr>
    <tr>
      <th>6</th>
      <td>78.967099</td>
      <td>98.606485</td>
      <td>12.733139</td>
      <td>25.857818</td>
      <td>2.952645</td>
      <td>3.660848</td>
      <td>6.145818</td>
      <td>8.300000</td>
      <td>34.297091</td>
      <td>19.966636</td>
      <td>...</td>
      <td>60.247745</td>
      <td>98.725142</td>
      <td>24.727273</td>
      <td>51.268596</td>
      <td>87.938982</td>
      <td>49.142818</td>
      <td>217.683471</td>
      <td>40.807118</td>
      <td>14.402847</td>
      <td>48.763727</td>
    </tr>
    <tr>
      <th>7</th>
      <td>99.936209</td>
      <td>100.000000</td>
      <td>1.993004</td>
      <td>13.025000</td>
      <td>8.274027</td>
      <td>8.321418</td>
      <td>5.964250</td>
      <td>6.425000</td>
      <td>3.771250</td>
      <td>16.773500</td>
      <td>...</td>
      <td>73.972453</td>
      <td>132.810314</td>
      <td>4.625000</td>
      <td>10.069645</td>
      <td>98.916003</td>
      <td>29.590500</td>
      <td>24033.857987</td>
      <td>73.107802</td>
      <td>175.395893</td>
      <td>11.375250</td>
    </tr>
    <tr>
      <th>8</th>
      <td>96.701202</td>
      <td>98.530059</td>
      <td>7.751567</td>
      <td>18.517786</td>
      <td>5.406265</td>
      <td>5.239011</td>
      <td>6.389500</td>
      <td>10.342857</td>
      <td>15.217714</td>
      <td>25.593786</td>
      <td>...</td>
      <td>75.239829</td>
      <td>131.435271</td>
      <td>13.107143</td>
      <td>26.724136</td>
      <td>93.269080</td>
      <td>42.100214</td>
      <td>1373.317331</td>
      <td>54.471340</td>
      <td>19.196389</td>
      <td>26.641357</td>
    </tr>
    <tr>
      <th>9</th>
      <td>75.267872</td>
      <td>97.495280</td>
      <td>25.711495</td>
      <td>21.179600</td>
      <td>0.711853</td>
      <td>4.436926</td>
      <td>6.790800</td>
      <td>5.980000</td>
      <td>49.194000</td>
      <td>19.964000</td>
      <td>...</td>
      <td>80.473035</td>
      <td>99.824994</td>
      <td>28.320000</td>
      <td>43.128477</td>
      <td>80.002327</td>
      <td>74.282800</td>
      <td>317.685319</td>
      <td>41.846596</td>
      <td>16.892391</td>
      <td>64.376201</td>
    </tr>
    <tr>
      <th>10</th>
      <td>34.796475</td>
      <td>78.050093</td>
      <td>6.403827</td>
      <td>28.343500</td>
      <td>1.367368</td>
      <td>7.393352</td>
      <td>9.603000</td>
      <td>4.466667</td>
      <td>19.338500</td>
      <td>21.984500</td>
      <td>...</td>
      <td>84.818298</td>
      <td>98.389470</td>
      <td>40.316667</td>
      <td>27.956632</td>
      <td>76.384773</td>
      <td>50.393333</td>
      <td>51.630789</td>
      <td>61.142912</td>
      <td>26.529724</td>
      <td>33.122333</td>
    </tr>
    <tr>
      <th>11</th>
      <td>87.542572</td>
      <td>99.182007</td>
      <td>10.272240</td>
      <td>20.917313</td>
      <td>1.938999</td>
      <td>5.587711</td>
      <td>5.739813</td>
      <td>9.662500</td>
      <td>23.670687</td>
      <td>19.483125</td>
      <td>...</td>
      <td>63.231825</td>
      <td>99.287718</td>
      <td>17.068750</td>
      <td>20.109427</td>
      <td>92.564067</td>
      <td>40.788375</td>
      <td>915.584875</td>
      <td>52.840198</td>
      <td>15.080708</td>
      <td>39.872438</td>
    </tr>
  </tbody>
</table>
<p>12 rows × 29 columns</p>
</div></div></div>
</div>
<p>Odavde možete da vidite mnoštvo karakteristika klastera, npr. da zemlje četvrtog klastera imaju veoma malu dostupnost električne energije i da su im poljoprivreda i ribarstvo veoma važni za BDP. Ostavljamo vam za samostalni rad da prepoznate karakteristike pojedinačnih klastera. Još je bolje da te opise uparite sa geo-ekonomskim opisom država koje čine taj klaster.</p>
</section>
</section>
<section id="smanjenje-dimenzionalnosti">
<h2>Smanjenje dimenzionalnosti<a class="headerlink" href="#smanjenje-dimenzionalnosti" title="Permalink to this headline">¶</a></h2>
<p>Faktorska analiza se koristi kao jedan od načina za smanjenje broja dimenzija u skupu podataka sa kojim radimo. To je dobra praksa jer se tako odstranjuju nepotrebne promenljive i izbacuju one koje nisu nezavisne pa se zbog toga dobijaju pouzdaniji rezultati mašinskog učenja. Tehnički razlozi za smanjenje broja dimenzija su takođe veoma važni. Sa manjim skupom podataka se lakše i brže radi. Osim toga, previše promenljivih može da izazove <em>over-fitting</em> efekat gde procene postaju lošije nego što bi bile da imamo manje promenljivih i jednostavniji model. Konačno, klasterska analiza u prostoru koji ima previše dimenzija može da postane neupotrebljiva zbog nedovoljno velikog uzorka za toliki broj dimenzija. Taj efekat se zove “<a class="reference external" href="https://builtin.com/data-science/curse-dimensionality">prokletstvo multidimenzionalnosti</a>”.</p>
<p>Mi jesmo tražili rastojanja između tačaka u 29-odimenzionalnom prostoru za potrebe ove demonstracije, ali u opštem slučaju to nije dobra ideja. Smanjenje dimenzionalnosti (eng. <em>Dimensionality Reduction</em>) nam otvara mogućnost da radimo klasterizaciju sa manjim brojem promenljivih.</p>
<p>Faktorska analiza može da predstavi faktore kao linearne kombinacije originalnih promenljivih pa da tako dobijemo numeričku vrednost faktora za svaku stavku u uzorku. Funkcija <code class="docutils literal notranslate"><span class="pre">transform()</span></code> koja je definisana za objekat koji smo kreirali za faktorsku analizu daje vrednosti faktora za svaku zemlju iz tabele <strong>df</strong>.</p>
<p>(Napomena: Pošto smo tabeli <strong>df</strong> dodali <em>output</em> kolonu <strong>cluster</strong>, ovde ćemo morati da je uklonimo jer nam smeta za funkciju <code class="docutils literal notranslate"><span class="pre">transform()</span></code>. To ćemo učiniti pomoću funkcije <code class="docutils literal notranslate"><span class="pre">drop()</span></code>.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dff</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">fa</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;cluster&#39;</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)),</span><span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span><span class="n">columns</span><span class="o">=</span><span class="n">faktori</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Sada možemo da vidimo kolike su procenjene vrednosti (nemerljivih) faktora za koje od ranije imamo opise. Jasno je da su vrednosti faktora “Dostupnost osnovnih konumalnih usluga ” značajno veće za Japan i Švedsku nego za Gvajanu i Belize.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dff</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Dostupnost osnovnih\n komunalnih usluga</th>
      <th>Zapošljivost mladih</th>
      <th>Ukupni ekonomski rast</th>
      <th>Industrijski razvoj</th>
      <th>Zdravstvena situacija</th>
      <th>Mogućnosti proizvodnje i\n trgovine proizvedenom robom</th>
      <th>Razvoj stručnih usluga</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Japan</th>
      <td>1.196671</td>
      <td>1.106999</td>
      <td>-0.773557</td>
      <td>0.575415</td>
      <td>-1.057153</td>
      <td>0.011181</td>
      <td>-0.658923</td>
    </tr>
    <tr>
      <th>Singapore</th>
      <td>1.064105</td>
      <td>-0.283831</td>
      <td>0.722790</td>
      <td>0.143804</td>
      <td>-0.536978</td>
      <td>0.034265</td>
      <td>3.113480</td>
    </tr>
    <tr>
      <th>Denmark</th>
      <td>1.094715</td>
      <td>1.596332</td>
      <td>-0.473175</td>
      <td>-0.303366</td>
      <td>-1.101224</td>
      <td>0.046984</td>
      <td>0.748569</td>
    </tr>
    <tr>
      <th>Sweden</th>
      <td>1.202531</td>
      <td>0.705392</td>
      <td>-0.315946</td>
      <td>-0.284938</td>
      <td>-0.986455</td>
      <td>-0.589225</td>
      <td>0.459900</td>
    </tr>
    <tr>
      <th>Switzerland</th>
      <td>1.261336</td>
      <td>2.159149</td>
      <td>-0.390354</td>
      <td>0.348852</td>
      <td>-0.942996</td>
      <td>-0.035474</td>
      <td>0.327216</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>Mexico</th>
      <td>0.612074</td>
      <td>0.662143</td>
      <td>-0.173644</td>
      <td>0.198161</td>
      <td>0.841820</td>
      <td>0.025678</td>
      <td>-0.845944</td>
    </tr>
    <tr>
      <th>Guyana</th>
      <td>0.014020</td>
      <td>0.317846</td>
      <td>0.350793</td>
      <td>-0.170929</td>
      <td>0.599676</td>
      <td>0.524632</td>
      <td>-0.666206</td>
    </tr>
    <tr>
      <th>Guatemala</th>
      <td>0.152898</td>
      <td>1.096803</td>
      <td>0.303419</td>
      <td>-0.366806</td>
      <td>1.132194</td>
      <td>-0.107574</td>
      <td>-0.666105</td>
    </tr>
    <tr>
      <th>Nicaragua</th>
      <td>-0.247150</td>
      <td>0.492555</td>
      <td>0.609117</td>
      <td>-0.363825</td>
      <td>0.833389</td>
      <td>0.205555</td>
      <td>-0.389789</td>
    </tr>
    <tr>
      <th>Belize</th>
      <td>0.124957</td>
      <td>0.586134</td>
      <td>-0.308147</td>
      <td>-1.284159</td>
      <td>1.563437</td>
      <td>-0.423183</td>
      <td>0.500684</td>
    </tr>
  </tbody>
</table>
<p>153 rows × 7 columns</p>
</div></div></div>
</div>
<p>Pošto su nam prva dva faktora najznačajnija možemo da nacrtamo tačkasti dijagram gde će na x-osi biti prvi faktor, a na y drugi. Svaka tačka bi predstavila jednu zemlju, a njena boja klaster kom pripada. Ukoliko faktori imaju smisla trebalo bi da prepoznamo grupisanje tačaka iz istog klastera.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prva</span><span class="o">=</span><span class="n">faktori</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">druga</span><span class="o">=</span><span class="n">faktori</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">dff</span><span class="p">[</span><span class="n">prva</span><span class="p">],</span><span class="n">y</span><span class="o">=</span><span class="n">dff</span><span class="p">[</span><span class="n">druga</span><span class="p">],</span><span class="n">c</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;cluster&#39;</span><span class="p">],</span><span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Set1&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="n">prva</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="n">druga</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/12 Faktorska i klasterska analiza_83_0.png" src="_images/12 Faktorska i klasterska analiza_83_0.png" />
</div>
</div>
<p>Pošto tačke ne možemo da prikažemo u sedmodimenzionalnom prostoru, ostaje nam mogućnost da ih prikažemo za dve po dve dimenzije, tj. da nađemo sve parove faktora. Biblioteka <strong>seaborn</strong> ima funkciju koja može u tome da nam pomogne: <code class="docutils literal notranslate"><span class="pre">pairplot()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dff</span><span class="p">[</span><span class="s1">&#39;cluster&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;cluster&#39;</span><span class="p">]</span>

<span class="n">sns</span><span class="o">.</span><span class="n">pairplot</span><span class="p">(</span><span class="n">dff</span><span class="p">,</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">,</span><span class="n">hue</span><span class="o">=</span><span class="s1">&#39;cluster&#39;</span><span class="p">,</span><span class="n">palette</span><span class="o">=</span><span class="s2">&quot;Set1&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/12 Faktorska i klasterska analiza_85_0.png" src="_images/12 Faktorska i klasterska analiza_85_0.png" />
</div>
</div>
<p>Sa ovog grafikona vidimo da ne postoji jasna linearna veza između bilo koja dva faktora. To znači da su faktori prilično nezavisni i da smo napravili dobar izbor.</p>
</section>
<section id="zakljucak">
<h2>Zaključak<a class="headerlink" href="#zakljucak" title="Permalink to this headline">¶</a></h2>
<p>Hijerarhijska klasterizacija je kompleksan algoritam koji postaje previše spor za veliki broj stavki. Ipak, za male i srednje velike skupove podataka predstavlja odličan izbor modela za mašinsko učenje bez nadzora. Paterni koje pronalazimo na ovaj način mogu da se objasne i da omoguće bolji uvid u podatke i pojave koje ih uzrokuju. Dodatna vrednost ovog modela je što može dobro da se vizuelizuje pa samim tima i da se rezultati bolje komuniciraju sa ciljnom grupom.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="11%20Stablo%20odlu%C4%8Divanja.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Stablo odlučivanja</p>
        </div>
    </a>
</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Srđan Verbić<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>